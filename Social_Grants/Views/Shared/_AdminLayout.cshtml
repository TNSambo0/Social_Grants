<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="icon" href="~/images/logo.svg" type="" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="~/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="~/css/app.css">
    <link rel="stylesheet" type="text/css" href="~/css/style.css">
    <link rel="stylesheet" href="~/fontAwesomeIcons/css/font-awesome.css" />
    <link rel="stylesheet" type="text/css" href="~/css/Admin/icon/themify-icons/themify-icons.css">
    <link rel="stylesheet" type="text/css" href="~/css/Admin/icon/icofont/css/icofont.css">
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/Social_Grants.styles.css" asp-append-version="true" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script type="text/javascript" src="~/js/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <script>
        $(function () {
            var url = window.location.href;
            $(".sidebar-nav a").each(function () {
                if (url == (this.href)) {
                    $(this).closest("li").addClass("active");
                }
            });
        });
    </script>
</head>
<body>
    <div class="wrapper">
        <nav id="sidebar" class="sidebar js-sidebar">
            <div class="sidebar-content js-simplebar">
                <a class="sidebar-brand">
                    <img class="logo" src="~/images/logo.svg" alt="logo" />
                    <span class="align-middle text-white">SASSA</span>
                </a>
                <ul class="sidebar-nav">
                    <li class="sidebar-header">
                        Actions
                    </li>

                    <li class="sidebar-item">
                        <a class="sidebar-link" asp-controller="Admin" asp-action="Index">
                            <i class="align-middle" data-feather="sliders"></i> <span class="align-middle">Dashboard</span>
                        </a>
                    </li>

                    <li class="sidebar-header">
                        Applications
                    </li>
                    <li class="sidebar-item">
                        <a class="sidebar-link" asp-controller="Admin" asp-action="Applications">
                            <i class="align-middle" data-feather="bar-chart-2"></i> <span class="align-middle">View Applications</span>
                        </a>
                    </li>

                    <li class="sidebar-header">
                        Product operations
                    </li>
                    <li class="sidebar-item">
                        <a class="sidebar-link" asp-controller="Product" asp-action="Index">
                            <i class="align-middle" data-feather="check-square"></i> <span class="align-middle">Product dashboard</span>
                        </a>
                    </li>
                    <li class="sidebar-header">
                        Orphanage operations
                    </li>
                    <li class="sidebar-item">
                        <a class="sidebar-link" asp-controller="Orphanage" asp-action="Index">
                            <i class="align-middle" data-feather="map"></i> <span class="align-middle">Orphanage dashboard</span>
                        </a>
                    </li>
                    <li class="sidebar-header">
                        Volunteer operations
                    </li>
                    <li class="sidebar-item">
                        <a class="sidebar-link" asp-controller="Volunteer" asp-action="Index">
                            <i class="align-middle" data-feather="square"></i> <span class="align-middle">Volunteer dashboard</span>
                        </a>
                    </li>
                    <li class="sidebar-header">
                        Newsletter operations
                    </li>
                    <li class="sidebar-item">
                        <a class="sidebar-link" asp-controller="NewsLetter" asp-action="Index">
                            <i class="align-middle" data-feather=""></i> <span class="align-middle">Newsletter dashboard</span>
                        </a>
                    </li>
                    <li class="sidebar-header">
                        Donate Cash operations
                    </li>
                    <li class="sidebar-item">
                        <a class="sidebar-link" asp-controller="Payment" asp-action="Transaction">
                            <i class="align-middle" data-feather="sliders"></i> <span class="align-middle">Cash Donations</span>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <div class="main">
            <nav class="navbar navbar-expand navbar-light navbar-bg">
                <a class="sidebar-toggle js-sidebar-toggle">
                    <i class="hamburger align-self-center"></i>
                </a>

                <div class="navbar-collapse collapse">
                    <ul class="navbar-nav navbar-align">
                        <li class="nav-item dropdown">
                            <a class="nav-icon dropdown-toggle d-inline-block d-sm-none" href="#" data-bs-toggle="dropdown">
                                <i class="align-middle" data-feather="settings"></i>
                            </a>
                            @{
                                @using Microsoft.AspNetCore.Identity;
                                @using Social_Grants.Models.Account;
                                @inject SignInManager<AppUser> SignInManager;
                                @inject UserManager<AppUser> UserManager;
                                var user = await UserManager.GetUserAsync(User);
                                var userFullName = new AppUser()
                                {
                                    FirstName = user.FirstName,
                                    LastName = user.LastName
                                };
                            }
                            <a class="nav-link dropdown-toggle d-none d-sm-inline-block" href="#" data-bs-toggle="dropdown">
                                <img src="~/@user.ImageUrl" class="avatar img-fluid rounded me-1" alt="Profile picture" /> <span class="text-dark">@userFullName</span>
                            </a>
                            <div class="dropdown-menu dropdown-menu-end">
                                <a class="dropdown-item" asp-controller="Admin" asp-action="Profile"><i class="align-middle me-1" data-feather="user"></i> Profile</a>
                                <a class="dropdown-item" href="#"><i class="align-middle me-1" data-feather="pie-chart"></i> Analytics</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="index.html"><i class="align-middle me-1" data-feather="settings"></i> Settings & Privacy</a>
                                <a class="dropdown-item" href="#"><i class="align-middle me-1" data-feather="help-circle"></i> Help Center</a>
                                <div class="dropdown-divider"></div>
                                <div class="dropdown-item">
                                    <div id="logoutForm" class="form-inline">
                                        <a id="logout" type="button" class="nav-link btn btn-link text-dark" asp-action="Logout" asp-controller="Account">Logout</a>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>

            <main class="content">
                <div class="container-fluid p-0">
                    <Partial name="_NotificationsPartial" />
                    @RenderBody()
                </div>
            </main>

            <footer class="footer bg-primary">
                <div class="container-fluid">
                    <div class="row text-muted">
                        <div class="col-12 text-center ">
                            <p class="mb-0 ">
                                &copy;<label> @DateTime.Now.Year All Rights Reserved By the <strong>South African Social Services Agency</strong></label>
                            </p>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <script type="text/javascript" src="~/js/js/bootstrap.js"></script>
    <script src="~/js/app.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>

